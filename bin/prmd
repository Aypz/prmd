#!/usr/bin/env ruby

require 'prmd'

command, path = ARGV[0], ARGV[1] || ''

if File.directory?(path)
  directory = path
elsif File.exists?(path)
  schema = JSON.parse(File.read(path))
else
  schema = {}
end

case command
when 'combine'
  Prmd.combine(directory)
when 'doc'
  Prmd.doc(directory)
when 'init'
  Prmd.init(path)
when 'verify'
  Prmd.verify(schema)
end
